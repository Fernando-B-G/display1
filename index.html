<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mapa Mental Qu√¢ntico ‚Äî Prot√≥tipo Modular</title>
  <link rel="stylesheet" href="./styles.css" />
  <script type="importmap">
  {
    "imports": {
      "three": "https://unpkg.com/three@0.155.0/build/three.module.js",
      "three/addons/": "https://unpkg.com/three@0.155.0/examples/jsm/"
    }
  }
  </script>
</head>
<body>
  <!-- Overlay inicial de carregamento -->
  <div id="loadingOverlay" class="loading">
    <div class="loading-content">
      <div class="spinner"></div>
      <div class="loading-text">Carregando‚Ä¶</div>
    </div>
  </div>

  <div id="container"></div>
  <div id="captionBar" class="caption hidden"></div>
  <button id="backBtn" class="back">Voltar</button>
  <button id="voteBtn" class="vote-trigger hidden">Chamar vota√ß√£o</button>

  <!-- Painel de texto -->
  <div class="panel-left" id="textPanel">
    <h2 id="nodeTitle">Bem‚Äëvindo ao Display 1</h2>
    <div id="nodeText">
      <p>
        Este display √© um <b>mapa mental 3D interativo</b> da hist√≥ria da mec√¢nica qu√¢ntica antiga.
      </p>

      <p><b>Como interagir:</b></p>
      <ul>
        <li>Clique em um quadro para come√ßar, ele apresentar√° um momento importante da hist√≥ria e ao final dele voc√™ poder√° escolher qual deve ser o pr√≥ximo quadro:</li>
        <li>Durante as escolhas, a decis√£o √© feita por <b>vota√ß√£o</b>:
          <ul>
            <li><b>M√£os abertas</b> ‚Üí seleciona a op√ß√£o da <b>esquerda</b>.</li>
            <li><b>M√£os fechadas</b> ‚Üí seleciona a op√ß√£o da <b>direita</b>.</li>
          </ul>
          O sistema detecta a maioria e segue automaticamente.
        </li>
      </ul>

      <p class="small">
        Dica: quando a vota√ß√£o aparecer, as op√ß√µes e a contagem regressiva surgem na tela.
      </p>
    </div>
  </div>

  <!-- Painel de controles (direita) -->
  <div class="panel-right" id="controlsPanel">
    <div id="scriptBar" class="script-bar">
      <button id="btnPlay">‚ñ∂Ô∏é Roteiro</button>
      <button id="btnPause">‚è∏</button>
      <button id="btnStop">‚èπ</button>
      <button id="btnTTS">üîä Voz</button>
      <span id="scriptStatus" class="small"></span>
    </div>

    <!-- Os sliders/toggles din√¢micos v√£o aqui -->
    <div id="controlsHost"></div>
  </div>

  <button id="fullscreenBtn" class="fullscreen">‚õ∂</button>
  <!-- Overlay de vota√ß√£o -->
  <div id="voteOverlay" class="vote hidden">
    <div class="vote-box">
      <div class="vote-title">Escolha o pr√≥ximo passo</div>
      <div class="vote-instructions">Abra as m√£os para a op√ß√£o da esquerda. Feche as m√£os para a da direita.</div>

      <div class="vote-options">
        <div class="vote-col">
          <div class="vote-label open-label">M√ÉOS ABERTAS ‚Üí (op√ß√£o)</div>
          <div class="vote-count open-count">0</div>
        </div>
        <div class="vote-timer">
          <div class="timer">10</div>
          <div class="timer-caption">segundos</div>
        </div>
        <div class="vote-col">
          <div class="vote-label closed-label">M√ÉOS FECHADAS ‚Üí (op√ß√£o)</div>
          <div class="vote-count closed-count">0</div>
        </div>
      </div>
      <div class="vote-note">Permita o acesso √† c√¢mera. Sem c√¢mera, use O (abertas) ou C (fechadas) no teclado.</div>
    </div>
  </div>

  <div class="status" id="status">Pronto</div>

  <script type="module" src="./src/main.js"></script>
</body>
</html>
